{"ast":null,"code":"var _jsxFileName = \"/Users/joey/watch-it/client/src/components/searchBar.js\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Search = () => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative bg-black px-6 pb-8 pt-10\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"search\",\n        placeholder: \"Enter a movie name\",\n        className: \"w-full h-10 px-5 rounded-2xl text-white bg-gray-800 ring-1 ring-white focus:outline-none top-5 z-50 max-w-72\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 7,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_c = Search;\nclass Main extends React.Component {\n  constructor() {\n    super();\n    this.handleChange = event => {\n      this.setState({\n        value: event.target.value,\n        showDropdown: true\n      });\n      //     Search for movies.\n      fetchMovies(this.state.value).then(data => {\n        this.setState({\n          movies: data.results\n        });\n      });\n    };\n    this.findMovie = (id, event) => {\n      this.state.movies.filter(movie => {\n        if (movie.id === id) {\n          this.setState({\n            movie: Object.assign({}, movie, {\n              backdrop: movie.backdrop_path\n            }),\n            showDropdown: false\n          });\n        }\n      });\n      event.preventDefault();\n    };\n    this.state = {\n      value: \"\",\n      movies: [],\n      movie: {},\n      showDropdown: false\n    };\n    this.findMovie = this.findMovie.bind(this);\n  }\n  render() {\n    const {\n      movie,\n      movies\n    } = this.state;\n    const movieSelected = Object.getOwnPropertyNames(movie).length !== 0;\n    const getReleaseYear = date => {\n      if (date && date.includes(\"-\")) {\n        return `(${date.split(\"-\")[0]})`;\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main\",\n      style: {\n        backgroundImage: movieSelected && `url(https://image.tmdb.org/t/p/original${movie.backdrop})`\n      },\n      children: [/*#__PURE__*/_jsxDEV(InputContainer, {\n        handleChange: this.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movies\",\n        id: \"dropdown\",\n        style: {\n          display: this.state.showDropdown ? \"inherit\" : \"none\"\n        },\n        children: movies ? movies.slice(0, 10).map(movie => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"option\",\n            onClick: event => this.findMovie(movie.id, event),\n            children: `${movie.title} ${movieSelected ? getReleaseYear(movie.release_date) : \"\"}`\n          }, movie.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 19\n          }, this);\n        }) : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), movieSelected ? /*#__PURE__*/_jsxDEV(Movie, {\n        movie: movie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 26\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 52\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","Fragment","_Fragment","Search","children","className","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","_c","Main","Component","constructor","handleChange","event","setState","value","target","showDropdown","fetchMovies","state","then","data","movies","results","findMovie","id","filter","movie","Object","assign","backdrop","backdrop_path","preventDefault","bind","render","movieSelected","getOwnPropertyNames","length","getReleaseYear","date","includes","split","style","backgroundImage","InputContainer","display","slice","map","onClick","title","release_date","Movie","$RefreshReg$"],"sources":["/Users/joey/watch-it/client/src/components/searchBar.js"],"sourcesContent":["import React from \"react\";\n\nconst Search = () => {\n  return (\n    <>\n      <div className=\"relative bg-black px-6 pb-8 pt-10\">\n        <input\n          type=\"search\"\n          placeholder=\"Enter a movie name\"\n          className=\"w-full h-10 px-5 rounded-2xl text-white bg-gray-800 ring-1 ring-white focus:outline-none top-5 z-50 max-w-72\"\n        />\n      </div>\n    </>\n  );\n};\n\nclass Main extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      value: \"\",\n      movies: [],\n      movie: {},\n      showDropdown: false,\n    };\n    this.findMovie = this.findMovie.bind(this);\n  }\n  handleChange = (event) => {\n    this.setState({ value: event.target.value, showDropdown: true });\n    //     Search for movies.\n    fetchMovies(this.state.value).then((data) => {\n      this.setState({ movies: data.results });\n    });\n  };\n  findMovie = (id, event) => {\n    this.state.movies.filter((movie) => {\n      if (movie.id === id) {\n        this.setState({\n          movie: Object.assign({}, movie, { backdrop: movie.backdrop_path }),\n          showDropdown: false,\n        });\n      }\n    });\n\n    event.preventDefault();\n  };\n  render() {\n    const { movie, movies } = this.state;\n    const movieSelected = Object.getOwnPropertyNames(movie).length !== 0;\n\n    const getReleaseYear = (date) => {\n      if (date && date.includes(\"-\")) {\n        return `(${date.split(\"-\")[0]})`;\n      }\n    };\n\n    return (\n      <div\n        className=\"main\"\n        style={{\n          backgroundImage:\n            movieSelected &&\n            `url(https://image.tmdb.org/t/p/original${movie.backdrop})`,\n        }}\n      >\n        <InputContainer handleChange={this.handleChange} />\n        <div\n          className=\"movies\"\n          id=\"dropdown\"\n          style={{ display: this.state.showDropdown ? \"inherit\" : \"none\" }}\n        >\n          {movies\n            ? movies.slice(0, 10).map((movie) => {\n                return (\n                  <div\n                    key={movie.id}\n                    className=\"option\"\n                    onClick={(event) => this.findMovie(movie.id, event)}\n                  >{`${movie.title} ${\n                    movieSelected ? getReleaseYear(movie.release_date) : \"\"\n                  }`}</div>\n                );\n              })\n            : \"\"}\n        </div>\n        {movieSelected ? <Movie movie={movie} /> : <div>Loading...</div>}\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}